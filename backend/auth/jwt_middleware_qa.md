# JWT Authentication and Middleware - Interview Q&A

## Fundamental Concepts

### Q1: What are the key responsibilities of a JWT verification middleware?

A: A JWT verification middleware is responsible for:

- Extracting the token from the request
- Verifying the token's signature using a secret key
- Checking token expiration
- Validating payload integrity
- Controlling access to protected routes
- Returning appropriate error responses for invalid tokens

### Q2: What are the two primary types of tokens in a typical authentication system?

A: The two primary types of tokens are:
1. Access Token
	- Short-lived (15-60 minutes)
	- Used to access protected routes
	- Contains user identity and permissions
	- Signed with a secret key
1. Refresh Token
	- Long-lived (days/weeks)
	- Used to generate new access tokens
	- Stored securely in the database
	- Prevents frequent re-authentication
### Q3: How do Google OAuth tokens differ from application-generated JWT tokens?

A: Key differences include:
- Google OAuth Tokens:
    - Obtained from Google's authentication servers
    - Used for accessing Google-specific APIs
    - Managed by Google's authentication system
- Application JWT Tokens:
    - Generated by the application
    - Used for internal route authentication
    - Fully managed by the application
    - Contain custom payload specific to the application
### Q4: What are the critical steps in token verification?

A: Token verification typically involves:

1. Token Extraction
- Retrieve from Authorization header
- Standard format: "Bearer <token>"
2. Signature Verification
- Use `jsonwebtoken.verify()` method
- Check token signature using secret key
- Validate token hasn't been tampered with

3. Expiration Check

- Ensure token is within its valid time window
- Reject expired tokens

4. Payload Validation

- Verify payload contains required information
- Check user identity and permissions